<!DOCTYPE html>
<html>
<head>
  <title>Lazy RTSPT to .TS</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #1f2937;
      color: #f8fafc;
    }
  </style>
  <script>
    function convertURLs() {
      var inputText = document.getElementById('input').value;
      var lines = inputText.split('\n');
      var convertedURLs = [];

      for (var i = 0; i < lines.length; i++) {
        var line = lines[i].trim();

        if (line.startsWith('rtspt://')) {
          var urlPart = line.substring(line.lastIndexOf('/') + 1);
          var convertedURL = 'https://stream.vrcdn.live/live/' + urlPart + '.live.ts';
          convertedURLs.push(convertedURL);
        }
      }

      document.getElementById('input').value = convertedURLs.join('\n');
    }

    function copyToClipboard() {
      var inputText = document.getElementById('input');
      inputText.select();
      inputText.setSelectionRange(0, 99999);
      document.execCommand("copy");
    }
  </script>
</head>
<body>
  <div class="container mx-auto p-4">
    <h1 class="text-2xl mb-4">Lazy RTSPT to .TS</h1>
    <div class="flex">
      <textarea id="input" rows="5" class="w-full bg-gray-700 text-white rounded-lg p-2 mb-4" placeholder="Enter VRCDN rtspt links here..."></textarea>
    </div>
    <div class="flex mb-4">
      <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" onclick="convertURLs()">Do the thing</button>
    </div>
    <div class="flex">
      <button class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded" onclick="copyToClipboard()">Copy the stuff</button>
    </div>
  </div>
</body>
</html>
