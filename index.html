<html>

<head>
	<!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-BHB7W12355"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-BHB7W12355');
    </script>
    <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.13.2/jquery-ui.min.js" integrity="sha512-57oZ/vW8ANMjR/KQ6Be9v/+/h6bq9/l3f0Oc7vn6qMqyhvPd1cvKBRWWpzu0QoneImqr2SkmO4MSqU+RpHom3Q==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-datetimepicker/2.5.20/jquery.datetimepicker.full.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.13.2/themes/ui-darkness/jquery-ui.min.css" integrity="sha512-p1d6H09ljWDOV2QwnG9MqYe2VKz/EOw0DJ6PRsl5SvIWY0Pxt0bnwl3+57OrQDMWQyyJ+XnsEq4Hlhl+GdoVKQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.13.2/themes/ui-darkness/jquery-ui.min.css" integrity="sha512-p1d6H09ljWDOV2QwnG9MqYe2VKz/EOw0DJ6PRsl5SvIWY0Pxt0bnwl3+57OrQDMWQyyJ+XnsEq4Hlhl+GdoVKQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-datetimepicker/2.5.20/jquery.datetimepicker.min.css" />
    <meta name="description" content="Lazy VR Event organisers go brrrrrr">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	
    <title>Slot-o-matic</title>
    <style>
    body
    {
        background-color: #2f3136;
        color: #fff;
        font-family: "Open Sans", Arial, sans-serif;
        font-size: 16px;
        line-height: 1.5;
        margin: 0;
        padding: 0;
        margin-left: 40px;
        margin-right: 40px;
        margin-top: 20px;
    }

    h1
    {
        font-size: 48px;
        margin: 40px 0;
    }

    label
    {
        display: block;
        margin-bottom: 8px;
        margin-top: 8px;
    }

    input[type="number"],
    input[type="text"],
    select
    {
        background-color: #40444b;
        border: none;
        border-radius: 4px;
        border: 1px solid #ccc;
        color: #fff;
        font-size: 16px;
        height: 40px;
        padding: 8px;
        width: 100%;
    }

    #generate-btn,
    input[type="button"],
    #copy-to-clipboard-button
    {
        background-color: #7289da;
        border: none;
        border-radius: 4px;
        color: #fff;
        cursor: pointer;
        font-size: 16px;
        height: 40px;
        margin-top: 16px;
        width: 100%;
    }

    #copy-to-clipboard-button:disabled
    {
        background-color: #5b6b8f;
    }

    ul
    {
        list-style: none;
        margin: 0;
        padding: 0;
    }

    li
    {
        padding: 10px;
        margin-bottom: 8px;
    }

    footer
    {
        margin-top: 32px;
        text-align: center;
    }

    footer a
    {
        color: #fff;
    }

    #time-code-list
    {
        font-family: monospace;
    }
    </style>
    <script>
    $(function()
    {
        $(".datetimepicker").datetimepicker(
        {
            dateFormat: "dd-mm-yy"
            , timeFormat: "HH:mm:ss"
            , showSecond: false
            , controlType: "select"
            , oneLine: true
            , theme: 'dark'
            , minDate: 0
            , startDate: new Date()

        });
    });
    </script>
    <script>
    function generateTimeCodes()
    {
        var startingTime = new Date($("#starting-time-code").val());
        if(isNaN(startingTime))
        {
            return;
        }
        var timeIncrement = parseInt($("#time-increment").val());
        var numberOfTimeCodes = parseInt($("#number-of-time-codes").val());
        var timeCodeList = $("#time-code-list");
        var outputStyle = $("#myDropdown").val();
        var isFullChecked = $("#myCheckbox").is(":checked");
        var isDoorsChecked = $("#myCheckbox2").is(":checked");

        var outputPrepend = "";
        var outputAppend = "";



        var outputHTML = "";

        if(isFullChecked)
        {
            outputHTML += "<li>Event date: &lt;t:" + (startingTime.getTime() / 1000) + ":f&gt;</li>";
        }
        if(isDoorsChecked)
        {
            outputHTML += "<li>Doors open at: &lt;t:" + ((startingTime.getTime() / 1000) - 900) + ":t&gt;</li>";
        }

        for(var i = 0; i < numberOfTimeCodes; i++)
        {
            var newTime = new Date(startingTime.getTime() + (i * timeIncrement * 60 * 1000));
            var newTimeCode = Math.round(newTime.getTime() / 1000);
            if(outputStyle == 'prepend-slot')
            {
                outputPrepend = (i + 1) + ": ";
            }
            if(outputStyle == 'append-slot')
            {
                outputAppend = " " + (i + 1);
            }
            outputHTML += "<li>" + outputPrepend + "&lt;t:" + newTimeCode + ":t&gt;" + outputAppend + "</li>";
        }

        timeCodeList.fadeOut("fast", function()
        {
            timeCodeList.html(outputHTML).fadeIn("fast");
        });

        $("#copy-to-clipboard-button").show();

        setTimeout(function()
        {
            $("#copy-to-clipboard-button").text("Copy to Clipboard").prop("disabled", false);
        }, 3000);
    }


    $(document).ready(function()
    {
        $("#copy-to-clipboard-button").click(function()
        {
            var outputHTML = "";
            $("#time-code-list li").each(function()
            {
                outputHTML += $(this).text() + "\n";
            });
            var tempInput = $("<textarea>");
            $("body").append(tempInput);
            tempInput.val(outputHTML).select();
            document.execCommand("copy");
            tempInput.remove();
            $("#copy-to-clipboard-button").text("Copied!").prop("disabled", true);
        });
    });
    </script>
</head>

<body>
    <h1>Slot-o-matic</h1>
    <form><label for="starting-time-code">Event start time</label>
        <input type="text" id="starting-time-code" name="starting-time-code" required placeholder="Click to open calendar" autocomplete="off" class="datetimepicker">
        <label for="time-increment">Set length</label>
        <select id="time-increment" name="time-increment">
			<option value="15">15 minutes</option>
            <option value="30">30 minutes</option>
			<option value="45">45 minutes</option>
            <option value="60" selected>1 hour</option>
            <option value="90">90 minutes</option>
            <option value="120">2 hours</option>
        </select>
        <label for="number-of-time-codes">Number of Time Codes to Generate</label>
        <input type="number" id="number-of-time-codes" name="number-of-time-codes" value="4" required>
        <label>
            <input type="checkbox" id="myCheckbox" name="myCheckbox" /> Include event start time/date?</label>
        <label>
            <input type="checkbox" id="myCheckbox2" name="myCheckbox2" /> Include open doors time? (-15 Minutes) </label>
        <label for="selecta">Slot number formatting<label>
                <select name="selecta" id="myDropdown">
                    <option value="no-slot">No slot numbers</option>
                    <option value="prepend-slot">Prepend slot numbers</option>
                    <option value="append-slot">Append slot numbers</option>
                </select>
                <input type="button" value="Generate Time Codes" onclick="generateTimeCodes(); return false;">
    </form>
    <ul id="time-code-list"></ul>
    <button id="copy-to-clipboard-button" style="display: none;">Copy to Clipboard</button>
    <footer>
        Made by <a href="http://chat.openai.com">ChatGPT</a> and <a href="http://twitter.com/vr_oku">vroku</a>.
    </footer>
</body>

</html>
